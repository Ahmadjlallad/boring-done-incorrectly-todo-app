(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{468:function(e,t,n){},476:function(e,t){},478:function(e,t){},492:function(e,t){},494:function(e,t){},522:function(e,t){},524:function(e,t){},525:function(e,t){},530:function(e,t){},532:function(e,t){},538:function(e,t){},540:function(e,t){},559:function(e,t){},571:function(e,t){},574:function(e,t){},613:function(e,t,n){},781:function(e,t,n){"use strict";n.r(t);var a=n(150),c=n(151),r=n(160),i=n(158),s=n(0),o=n.n(s),l=n(21),d=n.n(l),u=n(19),j=n(387),b=n(17),f=n(62),p=function(e){var t=Object(s.useState)({}),n=Object(b.a)(t,2),a=n[0],c=n[1];return{handleChange:function(e){e.persist(),c((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(f.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),e(a)},values:a}},m=(n(468),n(795)),O=n(3),h=o.a.createContext(),x={display:!0,numberOfItems:2,defaultSortField:"id"},g=function(e,t){switch(t.type){case"display":return Object(u.a)(Object(u.a)({},e),{},{display:t.payload});case"numberOfItems":return Object(u.a)(Object(u.a)({},e),{},{numberOfItems:t.payload});case"defaultSortField":return Object(u.a)(Object(u.a)({},e),{},{defaultSortField:t.payload});default:return e}},y=function(e){var t=Object(s.useReducer)(g,{}),n=Object(b.a)(t,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("settings"))||x,t=e.display,n=e.numberOfItems,a=e.defaultSortField;c({type:"numberOfItems",payload:n}),c({type:"display",payload:t}),c({type:"defaultSortField",payload:a})}),[]),Object(s.useEffect)((function(){localStorage.setItem("settings",JSON.stringify(a))}),[a]),Object(O.jsx)(h.Provider,{value:{state:a,dispatch:c},children:e.children})},v=n(790),I=n(65),C=n(225),S=n.n(C),w=n(226),F=n.n(w),T=Object(s.createContext)(),N={admin:{password:"password",name:"Administrator",role:"admin",capabilities:["create","read","update","delete"]},editor:{password:"password",name:"Editor",role:"editor",capabilities:["read","update"]},writer:{password:"password",name:"Writer",role:"writer",capabilities:["create","read"]}},D=function(e){var t=o.a.useState({loggedIn:!1,can:function(e,t){var n;return null===e||void 0===e||null===(n=e.capabilities)||void 0===n?void 0:n.includes(t)},login:function(e,t){if(N[e]){r(F.a.sign(N[e],"ssssss"))}},logout:function(){i(!1,null,{})},sigIn:function(e,t){N[e]&&N[e].password},user:{capabilities:[]}}),n=Object(b.a)(t,2),a=n[0],c=n[1];function r(e){try{i(!0,e,F.a.verify(e,"ssssss"))}catch(t){i(!1,null,{}),console.log("Token Validation Error",t)}}function i(e,t,n){S.a.save("auth",t),c(Object(u.a)(Object(u.a)({},a),{},{token:t,loggedIn:e,user:n}))}return o.a.useEffect((function(){var e=new URLSearchParams(window.location.search),t=S.a.load("auth");r(e.get("token")||t||null)}),[]),Object(O.jsx)(T.Provider,{value:a,children:e.children})},k=(n(295),n(36)),G=function(e){var t=o.a.useContext(T),n=t.loggedIn,a=!e.capability||t.can(t.user,e.capability),c=n&&a;return Object(O.jsx)(k.c,{condition:c,children:e.children})};var L=function(e){var t=e.list,n=e.toggleComplete,a=e.setIncomplete,c=e.incomplete,r=e.deleteItem,i=Object(s.useContext)(h),o=Object(s.useContext)(T),l=Object(s.useState)(i.state.numberOfItems),d=Object(b.a)(l,2),u=d[0],j=d[1],f=function(e){return Object(O.jsxs)(v.b,{interactive:!0,elevation:I.a.TWO,style:{width:"100%",maxHeight:"80%",minHeight:"40%",margin:"0.5rem"},"aria-label":"".concat(e.text),children:[Object(O.jsxs)(k.b,{condition:o.can(o.user,"update"),children:[Object(O.jsx)("div",{onClick:function(){return n(e.id)},className:"".concat(e.complete?"Complete":"notComplete"," isComplete"),children:Object(O.jsx)("span",{children:e.complete?"Complete":"pending"})}),Object(O.jsx)(k.a,{children:Object(O.jsx)(v.a,{disabled:!0,className:"".concat(e.complete?"Complete":"notComplete"," isComplete"),children:Object(O.jsx)("span",{children:e.complete?"Complete":"pending"})})})]}),Object(O.jsx)("p",{className:"assignee",children:e.assignee}),Object(O.jsx)("p",{className:"task",children:e.text}),Object(O.jsx)("p",{className:"Difficulty",children:Object(O.jsxs)("small",{children:["Difficulty: ",e.difficulty]})}),Object(O.jsx)(G,{capability:"delete",children:Object(O.jsx)(v.a,{color:"red",appearance:"primary",onClick:function(){return r(e.id)},children:"Delete"})})]},e.id)};return Object(s.useEffect)((function(){var e=t.filter((function(e){return!e.complete}));a(e.length),document.title="To Do List: ".concat(c)}),[t]),Object(s.useEffect)((function(){j(i.state.numberOfItems)}),[i.state.numberOfItems]),Object(O.jsxs)("div",{children:[i.state.display?t.sort((function(e,t){return e[i.state.defaultSortField]-t[i.state.defaultSortField]})).slice(u-i.state.numberOfItems,u).map((function(e){return f(e)})):t.filter((function(e){return!e.complete})).sort((function(e,t){return e[i.state.defaultSortField]-t[i.state.defaultSortField]})).slice(u-i.state.numberOfItems,u).map((function(e){return f(e)})),Object(O.jsx)("div",{children:function(e,t,n){var a=[],c=[];c=n?e.filter((function(e){return!1===e.complete})):e;for(var r=function(e){a.push(Object(O.jsx)(v.a,{onClick:function(){j((e+1)*t)},children:e+1},e))},i=0;i<c.length/t;i++)r(i);return a}(t.sort((function(e,t){return e[i.state.defaultSortField]-t[i.state.defaultSortField]})),i.state.numberOfItems,!i.state.display)})]})},E=n(109);var U=function(e){var t=e.handleChange,n=e.handleSubmit,a=e.range,c=e.setRange;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:n,"aria-label":"todo-form",children:[Object(O.jsx)("h2",{children:"Add To Do Item"}),Object(O.jsxs)(v.c,{helperText:"To Do Item details...",FormGroup:"To Do Item",FormGroupFor:"ToDoItem",FormGroupInfo:"(required)",children:[Object(O.jsx)("span",{children:"To Do Item"}),Object(O.jsx)(v.d,{id:"ToDoItem",onChange:t,name:"text",type:"text",placeholder:"Item Details","aria-label":"text"})]}),Object(O.jsx)(v.c,{helperText:"Assigned To",FormGroup:"Assigned To",FormGroupFor:"Assigned To",FormGroupInfo:"(required)",children:Object(O.jsx)(v.d,{onChange:t,name:"assignee",type:"text",placeholder:"Assignee Name","aria-label":"assignee"})}),Object(O.jsx)(v.c,{helperText:"Difficulty",FormGroup:"Difficulty",FormGroupFor:"Difficulty",FormGroupInfo:"(required)",children:Object(O.jsx)(v.d,{onChange:function(e){c(e.target.value),t(e)},value:a,type:"range",min:1,max:5,name:"difficulty",placeholder:"Difficulty","aria-label":"range"})}),Object(O.jsx)(v.a,{type:"submit",children:"Add Item"})]})})},A=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)([]),r=Object(b.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(3),d=Object(b.a)(l,2),f=d[0],h=d[1],x=p((function(e){e.id=Object(m.a)()+(new Date).getTime(),e.complete=!1,e.difficulty=e.difficulty?e.difficulty:f,a([].concat(Object(j.a)(n),[e]))}));var g={handleChange:x.handleChange,handleSubmit:x.handleSubmit,range:f,setRange:h};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.e,{className:"bp3-navbar bp3-dark",style:{height:"4rem",margin:"0 auto",width:"80%",marginTop:"1rem"},align:E.a.LEFT,children:Object(O.jsxs)(v.e.Heading,{className:"bp3-navbar-group bp3-align-left",style:{fontSize:"1.5rem"},children:["To Do List: ",i," items pending"]})}),Object(O.jsxs)("div",{className:"todo-container",children:[Object(O.jsx)("div",{className:"todo-form",children:Object(O.jsx)(G,{capability:"create",children:Object(O.jsx)(U,Object(u.a)({},g))})}),Object(O.jsx)("div",{className:"todo-list",children:Object(O.jsx)(L,{list:n,toggleComplete:function(e){var t=n.map((function(t){return t.id==e&&(t.complete=!t.complete),t}));a(t)},setIncomplete:o,incomplete:i,deleteItem:function(e){var t=n.filter((function(t){return t.id!==e}));a(t)}})})]})]})},H=(n(613),n(116)),P=n(157),q=n(791),z=function(e){var t=e.createNewUser,n=o.a.useContext(T),a=o.a.useState({username:"",password:""}),c=Object(b.a)(a,2),r=c[0],i=c[1],s=function(e,t){i(Object(u.a)(Object(u.a)({},r),{},Object(f.a)({},t,e)))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.c,{condition:n.loggedIn,children:Object(O.jsx)(P.a,{onClick:n.logout,children:"Log Out"})}),Object(O.jsx)(k.c,{condition:!n.loggedIn,children:Object(O.jsxs)(q.a,{layout:"inline",onSubmit:function(e){n.login(r.username,r.password)},children:[Object(O.jsxs)(q.a.Group,{controlId:"username",children:[Object(O.jsx)(q.a.ControlLabel,{children:"Username"}),Object(O.jsx)(q.a.Control,{style:{width:160},placeholder:"UserName",name:"username",onChange:function(e){return s(e,"username")}})]}),Object(O.jsxs)(q.a.Group,{controlId:"password",children:[Object(O.jsx)(q.a.ControlLabel,{children:"Password"}),Object(O.jsx)(q.a.Control,{name:"password",autoComplete:"off",style:{width:160},placeholder:"password",type:n.loggedIn?"text":"password",onChange:function(e){return s(e,"password")}})]}),Object(O.jsx)(P.a,{type:"submit",children:"Login"}),Object(O.jsx)(P.a,{onClick:function(){return t(!1)},children:"Sign in"})]})})]})},J=n(796),R=n(799),B={display:"flex",justifyContent:"center",alignItems:"center"},W=function(e){var t=e.createNewUser,n=o.a.useContext(T),a=o.a.useState({username:"",password:""}),c=Object(b.a)(a,2),r=c[0],i=c[1],s=function(e,t){i(Object(u.a)(Object(u.a)({},r),{},Object(f.a)({},t,e)))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k.c,{condition:n.loggedIn,children:Object(O.jsx)(P.a,{onClick:n.logout,children:"Log Out"})}),Object(O.jsx)(k.c,{condition:!n.loggedIn,children:Object(O.jsx)(J.a,{style:Object(u.a)({},B),children:Object(O.jsxs)(q.a,{onSubmit:function(e){n.sigIn(r.username,r.password)},children:[Object(O.jsxs)(q.a.Group,{controlId:"name",children:[Object(O.jsx)(q.a.ControlLabel,{children:"Username"}),Object(O.jsx)(q.a.Control,{name:"username",onChange:function(e){return s(e,"username")}}),Object(O.jsx)(q.a.HelpText,{children:"Username is required"})]}),Object(O.jsxs)(q.a.Group,{controlId:"password",children:[Object(O.jsx)(q.a.ControlLabel,{children:"Password"}),Object(O.jsx)(q.a.Control,{name:"password",onChange:function(e){return s(e,"password")},type:"password",autoComplete:"off"})]}),Object(O.jsx)(q.a.Group,{children:Object(O.jsxs)(R.a,{children:[Object(O.jsx)(P.a,{appearance:"primary",children:"Submit"}),Object(O.jsx)(P.a,{appearance:"default",onClick:function(){return t(!0)},children:"Cancel"})]})})]})})})]})};var M=function(){var e=o.a.useState(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(O.jsxs)(v.e,{className:"bp3-navbar",style:{height:"4rem",backgroundColor:"#227BFF"},align:E.a.LEFT,children:[Object(O.jsx)(v.e.Heading,{className:"bp3-navbar-group bp3-align-left",style:{fontSize:"1.5rem"},children:Object(O.jsx)(H.b,{style:{color:"#fff"},to:"/",children:"home"})}),Object(O.jsx)(v.e.Heading,{className:"bp3-navbar-group bp3-align-left",style:{fontSize:"1.5rem"},children:Object(O.jsx)(H.b,{style:{color:"#fff"},to:"/settings",children:"settings"})}),Object(O.jsx)(v.e.Heading,{className:"bp3-navbar-group bp3-align-right",style:{color:"#fff",alignItems:"baseline"},children:Object(O.jsxs)(k.b,{condition:n,children:[Object(O.jsx)(z,{createNewUser:a}),Object(O.jsx)(k.a,{children:Object(O.jsx)(W,{createNewUser:a})})]})})]})},V=n(10),K=n(798),Q=n(792),X=n(797),Y=n(793),Z=n(794),$=[{label:"assigned",value:"assigned",role:"assigned"},{label:"id",value:"id",role:"id"},{label:"difficulty",value:"difficulty",role:"difficulty"}];var _=function(){var e=Object(s.useContext)(h),t=e.state,n=e.dispatch;return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{justify:"space-around",align:"middle",children:[Object(O.jsx)(K.a.Item,{colspan:9,children:Object(O.jsxs)(q.a,{fluid:!0,style:{marginTop:"10px"},onSubmit:function(e){e.preventDefault()},children:[Object(O.jsxs)(q.a.Group,{controlId:"filter",children:[Object(O.jsx)(q.a.ControlLabel,{children:"Filter by: "}),Object(O.jsx)(Q.a,{data:$,style:{width:224},name:"filter",onChange:function(e){n({type:"defaultSortField",payload:e})},value:t.defaultSortField||x.defaultSortField})]}),Object(O.jsxs)(q.a.Group,{controlId:"display",children:[Object(O.jsx)(q.a.ControlLabel,{children:"display complete To Do: "}),Object(O.jsx)(X.a,{onChange:function(e){n({type:"display",payload:e})},name:"display",checked:t.display,value:t.display||x.display})]}),Object(O.jsxs)(q.a.Group,{controlId:"slider",children:[Object(O.jsx)(q.a.ControlLabel,{children:"show Item: "}),Object(O.jsx)(Y.a,{"data-testid":"slider",min:1,step:1,max:10,graduated:!0,progress:!0,renderMark:function(e){return e},value:t.numberOfItems||x.numberOfItems,onChange:function(e){n({type:"numberOfItems",payload:e})},name:"slider"})]})]})}),Object(O.jsx)(K.a.Item,{colspan:6,children:Object(O.jsx)(J.a,{header:"your settings",bordered:!0,children:Object(O.jsxs)(Z.a,{size:"sm",children:[Object(O.jsxs)(Z.a.Item,{index:3,children:["sort by: ",t.defaultSortField]},3),Object(O.jsxs)(Z.a.Item,{index:1,children:["display complete To Do: ",t.display?"\u2714\ufe0f":"\u274c"]},1),Object(O.jsxs)(Z.a.Item,{index:2,children:["number of Todo's in the same label: ",t.numberOfItems]},2)]})})})]})})},ee=(n(780),function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(O.jsx)(H.a,{children:Object(O.jsxs)(D,{children:[Object(O.jsx)(M,{}),Object(O.jsxs)(V.c,{children:[Object(O.jsx)(V.a,{path:"/",element:Object(O.jsx)(G,{children:Object(O.jsx)(y,{children:Object(O.jsx)(A,{})})})}),Object(O.jsx)(V.a,{path:"/settings",element:Object(O.jsx)(G,{children:Object(O.jsx)(y,{children:Object(O.jsx)(_,{})})})})]})]})})}}]),n}(o.a.Component)),te=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(O.jsx)(ee,{})}}]),n}(o.a.Component),ne=document.getElementById("root");d.a.render(Object(O.jsx)(te,{}),ne)}},[[781,1,2]]]);
//# sourceMappingURL=main.1ed4b237.chunk.js.map